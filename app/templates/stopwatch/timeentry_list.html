{% extends 'base.html' %}
{% load static i18n %}
{% get_current_language_bidi as LANGUAGE_BIDI %}

{% block title %}{% trans "Stoppuhr" %}{% endblock %}

{% block header %}
    {% get_current_language_bidi as LANGUAGE_BIDI %}
    {% if LANGUAGE_BIDI %}
        {% include "console/header_rtl.html" %}
    {% else %}
        {% include "console/header.html" %}
    {% endif %}
{% endblock %}

{% block content %}
    <div><h3 id="talk">{% trans "Aufgabe" %}&nbsp;<i><span id="talk_number">{{ talk }}</span></i></h3>
    </div>
    <table class="table">
        <thead>
        <tr>
            <th>
                <div class="fg-white text-center">{% trans "Abgelaufen" %}</div>
            </th>
            <th>
                <div class="fg-white text-center">{% trans "Ãœbrig" %}</div>
            </th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th>
                <div class="pt-4">
                    <samp style="font-size:72px" id="stopwatch">00:00:00</samp>
                </div>
            </th>
            <th>
                <div class="pt-4">
                    <samp style="font-size:72px" id="remaining">00:00:00</samp>
                </div>
            </th>
        </tr>
        </tbody>
    </table>
    <div class="pt-4">
        <table class="table" data-show-search="false" data-show-pagination="false"
               data-show-table-info="false" data-show-activity="false" data-show-rows-steps="false"
               data-empty-table-title="">
            <thead>
            <tr>
                <th class="fg-white {% if LANGUAGE_BIDI %}text-right{% endif %}">{% trans "Aufgabe" %}</th>
                <th class="fg-white {% if LANGUAGE_BIDI %}text-right{% endif %}">{% trans "Startzeit" %}</th>
                <th class="fg-white {% if LANGUAGE_BIDI %}text-right{% endif %}">{% trans "Endezeit" %}</th>
                <th class="fg-white {% if LANGUAGE_BIDI %}text-right{% endif %}">{% trans "Dauer" %}</th>
                <th class="fg-white {% if LANGUAGE_BIDI %}text-right{% endif %}">{% trans "Maximale Dauer" %}</th>
                <th class="fg-white {% if LANGUAGE_BIDI %}text-right{% endif %}">{% trans "Differenz" %}</th>
            </tr>
            </thead>
            <tbody>
            {% for time_entry in object_list %}
                <tr>
                    <td>{{ time_entry.talk }}</td>
                    <td>{% blocktrans with start=time_entry.start|time:"H:i:s" %}{{ start }} Uhr{% endblocktrans %}</td>
                    <td>{% blocktrans with stop=time_entry.stop|time:"H:i:s" %}{{ stop }} Uhr{% endblocktrans %}</td>
                    <td>{{ time_entry.duration }}</td>
                    <td>{{ time_entry.display_max_duration }}</td>
                    {% if "-" in time_entry.difference %}
                        <td class="fg-red">{{ time_entry.difference }}</td>
                    {% else %}
                        <td class="fg-blue">{{ time_entry.difference }}</td>
                    {% endif %}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}

{% block body_extra %}
    <script>
        StagyBee.main.timer_ws('{{ congregation.congregation|escape }}', true, false);
    </script>
{% endblock %}